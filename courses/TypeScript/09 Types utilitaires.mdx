import { Image } from "@chakra-ui/image";
import ChapterHeading from "@/components/mdx/ChapterHeading";
import { MdCheckCircle, MdCancel } from "react-icons/md";

<Slides>

<ChapterHeading title="Types utilitaires" backgroundColor="#b8e994" />

---

<SlideHeader slideTitle="Types utilitaires" />

#### Types utilitaires

TypeScript fournit [des types utilitaires](https://www.typescriptlang.org/docs/handbook/utility-types.html) pour aider à la manipulation des types

---

<SlideHeader slideTitle="Types utilitaires" />

#### Partial

`Partial<Type>` permet de rendre toutes les propriétés facultatives

```typescript
interface Todo {
  title: string;
  description: string;
}

const partialTodo: Partial<Todo> = { title: "Hello" };
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### Required

`Required<Type>` permet de rendre toutes les propriétés obligatoires

```typescript
interface Todo {
  title: string;
  description?: string;
}

const todo: Required<Todo> = { title: "Hello" }; // Error
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### Readonly

`Readonly<Type>` permet de restreindre en lecture seule toutes les propriétés

```typescript
interface Todo {
  title: string;
  description?: string;
}

const todo: Readonly<Todo> = { title: "Hello" };
todo.title = "World"; // Error
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### Record

`Record<Keys, Type>` permet de créer une map à partir de deux types :

```typescript
interface FeatureSettings {
  isEnable: boolean;
  label: string;
}

type FeatureName = "darkMode" | "onboarding" | "newsletter";

const features: Record<FeatureName, FeatureSettings> = {
  darkMode: { isEnable: true, label: "Dark Mode" },
  onboarding: { isEnable: false, label: "New Onboarding" },
  newsletter: { isEnable: true, label: "Marketing newsletter" },
};
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### Pick

`Pick<Type, Keys>` permet de créer un subset d'un type :

```typescript
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}

type TodoPreview = Pick<Todo, "title" | "completed">;

const todo: TodoPreview = {
  title: "Clean room",
  completed: false,
};
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### Omit

`Omit<Type, Keys>` permet de supprimer les propriétés d'un type :

```typescript
interface Todo {
  title: string;
  description: string;
  completed: boolean;
  createdAt: number;
}

type TodoPreview = Omit<Todo, "description">;

const todo: TodoPreview = {
  title: "Clean room",
  completed: false,
  createdAt: 1615544252770,
};
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### Exclude

`Exclude<UnionType, ExcludedMembers>` permet de supprimer des valeurs d'une union :

```typescript
type ExcludedType = Exclude<"a" | "b" | "c", "a">;
// type ExcludedType = "b" | "c"
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### Extract

`Extract<Type, Union>` permet de récupérer les propriétés communes d'une union :

```typescript
type ExtractedType = Extract<"a" | "b" | "c", "a" | "f">;
// type ExtractedType = "a"
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### ReturnType

`ReturnType<Type>` permet de récupérer le type de retour d'une fonction :

```typescript
type ReturnedType = ReturnType<() => string>;
// type ReturnedType = string
```

---

<SlideHeader slideTitle="Types utilitaires" />

#### Autres librairies d'utilitaires

- [utility-types](https://github.com/piotrwitek/utility-types)
- [TS toolbelt](https://github.com/millsp/ts-toolbelt)

```typescript
import { PickByValue } from "utility-types";

type Props = { req: number; reqUndef: number | undefined; opt?: string };

// Expect: { req: number }
type Props = PickByValue<Props, number>;
// Expect: { req: number; reqUndef: number | undefined; }
type Props = PickByValue<Props, number | undefined>;
```

</Slides>
