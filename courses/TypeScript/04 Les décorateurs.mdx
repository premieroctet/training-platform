import { Image } from "@chakra-ui/image";
import ChapterHeading from "@/components/mdx/ChapterHeading";
import { MdCheckCircle, MdCancel } from "react-icons/md";

<Slides>

<ChapterHeading title="Les d√©corateurs" backgroundColor="#2ed573" />

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### Les d√©corateurs üíÑ

Les d√©corateurs permettent de modifier le comportement d'un √©l√©ment lors du runtime et prennent la forme de fonction. Ils sont appel√©s gr√¢ce √† une expression `@NomDuD√©corateur`

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### Les d√©corateurs üíÑ

Ils sont souvent utilis√©s pour des t√¢che techniques :

- Logger des action
- Ajouter des m√©tadonn√©es
- ‚Ä¶

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### Les d√©corateurs üíÑ

- Non standardis√©s dans la sp√©cification ECMA
- Indroduit par la version 1.5 de TypeScript

Il faut les activer dans la config TS :

```json
{
  "experimentalDecorators": true,
  "emitDecoratorMetadata": true
}
```

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### Les d√©corateurs üíÑ

- Fortement li√©s √† la programmation orient√©e objet :
  - D√©corateur de classes
  - D√©corateur de m√©thodes
  - D√©corateur de propri√©t√©s
  - D√©corateur de param√®tres

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### Rappel

Les classes sont support√©es depuis ES6, TypeScript ajoute la notion de visibilit√© :

```
class Post {
	public title: string;
	readonly viewCount: number = 100;

	constructor(title: string) {
		this.title = title;
	}

	public getTitle() {
		return this.title;
	}

	protected slugify() {
		return slugify(this.title);
	}
}
```

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### D√©corateurs de classes

```typescript
const LogClassName: ClassDecorator = (target) => console.log(target.name);

@LogClassName
class Post {
  constructor(public title: string) {}
}
```

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### D√©corateurs de m√©thodes

```typescript
const LogMethod: MethodDecorator = (target, key, descriptor) =>
  console.log(target.name);

class Post {
  title: string;

  constructor(public title: string) {
    this.title = title;
  }

  @LogMethod
  getTitle() {
    return this.title;
  }
}
```

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### D√©corateurs de propri√©t√©s

```typescript
const OnUpdate: PropertyDecorator = (target, key) => {
  // ...
};

class Post {
  @OnUpdate
  title: string;

  constructor(public title: string) {
    this.title = title;
  }
}
```

---

<SlideHeader slideTitle="Les d√©corateurs" />

#### D√©corateurs de param√®tres

```typescript
const LogParameter: ParameterDecorator = (target, key, parameterIndex) => {
  // ...
};

class Post {
  constructor(@LogParameter public title: string) {
    this.title = title;
  }
}
```

</Slides>
